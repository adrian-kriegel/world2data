# Refined Spec

## 1. Problem
- Current pain:
- Users impacted:
- Why now:

## 2. Goals
- Goal 1:
- Goal 2:
- Success metrics (KPIs/SLIs):

## 3. Non-Goals
- Explicitly out of scope:

## 4. Users & Permissions
- Roles/personas:
- Permission matrix (role -> capabilities):

## 5. Scope & Assumptions
- In scope:
- Out of scope:
- Assumptions:
- Constraints (deadline/budget/tech/compliance):

## 6. Functional Requirements
### 6.1 Core Entities
- Entity:
  - Fields:
  - Identifiers:
  - Lifecycle/states:

### 6.2 Workflows
- Workflow A (happy path):
- Workflow A (failure modes):
- Workflow B ...

### 6.3 Requirements List (testable)
- FR-1:
  - Acceptance criteria:
- FR-2:
  - Acceptance criteria:

## 7. Data & Integrations
- Inputs:
- Outputs:
- Data schemas/contracts:
- Integrations (API, auth, rate limits, retries, error semantics):

## 8. Non-Functional Requirements (NFRs)
- Performance:
- Reliability/availability:
- Observability (logs/metrics/traces):
- Security:
- Privacy/compliance:
- Retention/auditing:

## 9. UX / Interaction Design
- Screens/pages:
- Navigation:
- Empty states:
- Error states:
- Accessibility/i18n:

## 10. Architecture
- Components and responsibilities:
- Data flow:
- Storage:
- Deployment topology:
- Config/secrets:
- Migration plan:

## 11. Testing Strategy
- Unit:
- Integration:
- E2E:
- Load/perf:
- Security:

## 12. Rollout Plan
- Feature flags:
- Phased rollout:
- Monitoring & alerting:
- Support/ops playbook:

## 13. Risks & Tradeoffs
- Risk:
  - Impact:
  - Mitigation:
- Key tradeoffs and chosen approach:
